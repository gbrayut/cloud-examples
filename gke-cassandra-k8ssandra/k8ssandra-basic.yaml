# from https://docs.k8ssandra.io/install/gke/#generate-gkevaluesyaml
cassandra:
  # Version of Apache Cassandra to deploy
  version: "3.11.10"

  # Configuration for the /var/lib/cassandra mount point
  cassandraLibDirVolume:
    # GCP provides this storage class on GKE clusters out of the box. Note we
    # are using `standard-rwo` here as it has `volumeBindingMode:
    # WaitForFirstConsumer` which is important during scheduling.
    storageClass: standard-rwo

    # The recommended live data size is 1 - 1.5 TB. A 2 TB volume supports this
    # much data along with room for compactions.
    size: 5Gi
  allowMultipleNodesPerWorker: true # Just for testing on small clusters with few nodes
  
  # Heap and Resource settings should be adjusted to fit your node size
  heap:
    size: 1G
    newGenSize: 1G
  
  resources:
    requests:
      cpu: 1000m
      memory: 2Gi
    limits:
      cpu: 1000m
      memory: 2Gi

  # This key defines the logical topology of your cluster. The rack names and
  # labels should be updated to reflect the Availability Zones where your GKE
  # cluster is deployed.
  datacenters:
  - name: dc1
    size: 3
    racks:
    - name: us-central1-f
      affinityLabels:
        topology.kubernetes.io/zone: us-central1-f
    - name: us-central1-a
      affinityLabels:
        topology.kubernetes.io/zone: us-central1-a
    - name: us-central1-b
      affinityLabels:
        topology.kubernetes.io/zone: us-central1-b

# Again just test values, should be adjusted for production use cases
stargate:
  enabled: true
  replicas: 1
  heapMB: 256
  cpuReqMillicores: 200
  cpuLimMillicores: 1000

kube-prometheus-stack:
  grafana:
    adminUser: admin
    adminPassword: admin123

# Should also setup medusa per the GKE docs for production use cases
